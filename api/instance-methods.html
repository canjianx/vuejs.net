<!DOCTYPE html>
<html lang="en">
    <head>
        <title>实例方法 - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Lato|Inconsolata' rel='stylesheet' type='text/css'>
        <link rel="icon" href="/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "api"
        </script>
        <link rel="stylesheet" href="/css/page.css" type="text/css">

        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.net');
  ga('send', 'pageview');
</script>
        <script src="/js/vue.min.js"></script>
    </head>
    <body>
        <div id="mobile-bar">
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        
        
            <div id="header">
    <a id="logo" href="/">
        <img src="/images/logo.png">
        <span>Vue.js</span>
    </a>
    <ul id="nav">
        <li><a href="/guide/" class="nav-link">入门</a></li>
<li><a href="/api/" class="nav-link current">API 参考</a></li>
<li><a href="/examples/" class="nav-link">实例</a></li>
<li><a href="/blog/" class="nav-link">博客</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
</div>
        

        <div id="main">
            
                
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/guide/" class="nav-link">入门</a></li>
<li><a href="/api/" class="nav-link current">API 参考</a></li>
<li><a href="/examples/" class="nav-link">实例</a></li>
<li><a href="/blog/" class="nav-link">博客</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
    <div class="list">
        <h2>Api</h2>
        <ul class="menu-root">
            
                <li><a href="/api/index.html" class="sidebar-link">Vue构造函数</a></li>
            
                <li><a href="/api/options.html" class="sidebar-link">选项</a></li>
            
                <li><a href="/api/instance-properties.html" class="sidebar-link">实例属性</a></li>
            
                <li><a href="/api/instance-methods.html" class="sidebar-link current">实例方法</a></li>
            
                <li><a href="/api/global-api.html" class="sidebar-link">全局 API</a></li>
            
                <li><a href="/api/directives.html" class="sidebar-link">指示器</a></li>
            
                <li><a href="/api/filters.html" class="sidebar-link">过滤器</a></li>
            
            <li><a href="http://legacy.vuejs.org">Looking for 0.10 docs?</a></li>
        </ul>
    </div>
</div>

<div class="content api with-sidebar">
    <h1>实例方法</h1>
    <h2 id="数据">数据</h2>
<blockquote>
<p>你可以监控Vue实例上的数据。注意所有的监控回调是异步的。另外的，修改值再一个事件循环中批量进行的。这就是说在一个事件循环中一个值修改了多次，回调函数只会带最新的值调用一次。</p>
</blockquote>
<h3 id="vm-$watch(_expression,_callback,_[deep,_immediate]_)">vm.$watch( expression, callback, [deep, immediate] )</h3>
<ul>
<li><strong>expression</strong> <code>String</code></li>
<li><strong>callback( newValue, oldValue )</strong> <code>Function</code></li>
<li><strong>deep</strong> <code>Boolean</code> <em>optional</em></li>
<li><strong>immdediate</strong> <code>Boolean</code> <em>optional</em></li>
</ul>
<p>监控Vue实例的一个表达式修改。可以是单独的属性值或者是一个真实的表达式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">vm.$watch(<span class="string">'a + b'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(newVal, oldVal)</span> </span>{</div><div class="line">  <span class="comment">// do something</span></div><div class="line">})</div></pre></td></tr></table></figure>

<p>对象中嵌套的值修改也会被监控，你需要传递第三个<code>deep</code>参数为<code>true</code>。注意监听数组中的实例不需要做这个。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">vm.$watch(<span class="string">'someObject'</span>, callback, <span class="literal">true</span>)</div><div class="line">vm.someObject.nestedValue = <span class="number">123</span></div><div class="line"><span class="comment">// callback is fired</span></div></pre></td></tr></table></figure>

<p>给第四个参数<code>immediate</code>传递<code>true</code>将带当前表达式立刻触发回调函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">vm.$watch(<span class="string">'a'</span>, callback, <span class="literal">false</span>, <span class="literal">true</span>)</div><div class="line"><span class="comment">// callback is fired immediately with current value of `a`</span></div></pre></td></tr></table></figure>

<p>最后，<code>vm.$watch</code>返回一个不监控的函数来阻止触发回调。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> unwatch = vm.$watch(<span class="string">'a'</span>, cb)</div><div class="line"><span class="comment">// later, teardown the watcher</span></div><div class="line">unwatch()</div></pre></td></tr></table></figure>

<h3 id="vm-$get(_expression_)">vm.$get( expression )</h3>
<ul>
<li><strong>expression</strong> <code>String</code></li>
</ul>
<p>给定一个表达式在Vue实例上计算返回值，抛出错误的表达式将会被扔掉然后返回<code>undefined</code>。</p>
<h3 id="vm-$set(_keypath,_value_)">vm.$set( keypath, value )</h3>
<ul>
<li><strong>keypath</strong> <code>String</code></li>
<li><strong>value</strong> <code>*</code></li>
</ul>
<p>给Vue实例上给定的属性设置值。如果属性不存在就创建。</p>
<h3 id="vm-$add(_keypath,_value_)">vm.$add( keypath, value )</h3>
<ul>
<li><strong>keypath</strong> <code>String</code></li>
<li><strong>value</strong> <code>*</code></li>
</ul>
<p>给Vue实例（也是它的<code>$data</code>对象）增加一个根属性。由于ES5的限制，Vue不能直接监控增加和删除属性，所以当你需要这样的时候使用这个方法和<code>vm.$delete</code>。另外，所有监控对象都增加了这两个方法。</p>
<h3 id="vm-$delete(_keypath_)">vm.$delete( keypath )</h3>
<ul>
<li><strong>keypath</strong> <code>String</code></li>
</ul>
<p>删除Vue实例（也是它的<code>$data</code>对象）的一个根属性。</p>
<h3 id="vm-$eval(_expression_)">vm.$eval( expression )</h3>
<ul>
<li><strong>expression</strong> <code>String</code></li>
</ul>
<p>计算可以包含过滤器的表达式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// assuming vm.msg = 'hello'</span></div><div class="line">vm.$<span class="built_in">eval</span>(<span class="string">'msg | uppercase'</span>) <span class="comment">// -&gt; 'HELLO'</span></div></pre></td></tr></table></figure>

<h3 id="vm-$interpolate(_templateString_)">vm.$interpolate( templateString )</h3>
<ul>
<li><strong>templateString</strong> <code>String</code></li>
</ul>
<p>计算包含大括号插入的模板字符串片段。注意这个方法只对字符串插入符有效；属性指示器不会被编译。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// assuming vm.msg = 'hello'</span></div><div class="line">vm.$interpolate(<span class="string">'{&#123;msg&#125;} world!'</span>) <span class="comment">// -&gt; 'hello world!'</span></div></pre></td></tr></table></figure>

<h3 id="vm-$log(_[keypath]_)">vm.$log( [keypath] )</h3>
<ul>
<li><strong>keypath</strong> <code>String</code> <em>optional</em></li>
</ul>
<p>把当前的实例数据作为一个普通对象打上日志，它有更多的信息，还可以带一个可选的参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">vm.$log() <span class="comment">// logs entire ViewModel data</span></div><div class="line">vm.$log(<span class="string">'item'</span>) <span class="comment">// logs vm.item</span></div></pre></td></tr></table></figure>

<h2 id="Events">Events</h2>
<blockquote>
<p>每个vm也是一个时间触发器。当你有多个嵌套的VM，你可以使用事件系统在它们之间沟通。</p>
</blockquote>
<h3 id="vm-$dispatch(_event,_[args…]_)">vm.$dispatch( event, [args…] )</h3>
<ul>
<li><strong>event</strong> <code>String</code></li>
<li><strong>args…</strong> <em>optional</em></li>
</ul>
<p>从当前vm分发一个消息到它的父元素。如果回调函数返回<code>false</code>。将会停止传播。</p>
<h3 id="vm-$broadcast(_event,_[args…]_)">vm.$broadcast( event, [args…] )</h3>
<ul>
<li><strong>event</strong> <code>String</code></li>
<li><strong>args…</strong> <em>optional</em></li>
</ul>
<p>给所以的子VM广播一条消息，如果返回<code>false</code>，就不在继续往下广播。</p>
<h3 id="vm-$emit(_event,_[args…]_)">vm.$emit( event, [args…] )</h3>
<ul>
<li><strong>event</strong> <code>String</code></li>
<li><strong>args…</strong> <em>optional</em></li>
</ul>
<p>触发一条消息给自己。</p>
<h3 id="vm-$on(_event,_callback_)">vm.$on( event, callback )</h3>
<ul>
<li><strong>event</strong> <code>String</code></li>
<li><strong>callback</strong> <code>Function</code></li>
</ul>
<p>在当前的VM上监听消息。</p>
<h3 id="vm-$once(_event,_callback_)">vm.$once( event, callback )</h3>
<ul>
<li><strong>event</strong> <code>String</code></li>
<li><strong>callback</strong> <code>Function</code></li>
</ul>
<p>监听一次性消息。</p>
<h3 id="vm-$off(_[event,_callback]_)">vm.$off( [event, callback] )</h3>
<ul>
<li><strong>event</strong> <code>String</code> <em>optional</em></li>
<li><strong>callback</strong> <code>Function</code> <em>optional</em></li>
</ul>
<p>如果没有参数，就挺直接监听一切消息；如果只有消息给出，删除所有的回调函数；如果既有消息又有回调，就只删除指定的这个回调。</p>
<h2 id="DOM">DOM</h2>
<blockquote>
<p>所有的操作DOM的方法都和jQuery类似 - 除了还触发Vue.js在<code>$el</code>上定义的转化。更多转化的细节请看<a href="/guide/transitions.html">增加转化效果</a>.</p>
</blockquote>
<h3 id="vm-$appendTo(_element|selector,_[callback]_)">vm.$appendTo( element|selector, [callback] )</h3>
<ul>
<li><strong>element</strong> <code>HTMLElement</code> | <strong>selector</strong> <code>String</code></li>
<li><strong>callback</strong> <code>Function</code> <em>optional</em></li>
</ul>
<p>把vm的<code>$el</code>添加到目标元素上。参数可以是一个元素，也可以是一个选择器字符串。</p>
<h3 id="vm-$before(_element|selector,_[callback]_)">vm.$before( element|selector, [callback] )</h3>
<ul>
<li><strong>element</strong> <code>HTMLElement</code> | <strong>selector</strong> <code>String</code></li>
<li><strong>callback</strong> <code>Function</code> <em>optional</em></li>
</ul>
<p>在目标元素之前插入<code>$el</code>。</p>
<h3 id="vm-$after(_element|selector,_[callback]_)">vm.$after( element|selector, [callback] )</h3>
<ul>
<li><strong>element</strong> <code>HTMLElement</code> | <strong>selector</strong> <code>String</code></li>
<li><strong>callback</strong> <code>Function</code> <em>optional</em></li>
</ul>
<p>目标元素之后插入<code>$el</code>。</p>
<h3 id="vm-$remove(_[callback]_)">vm.$remove( [callback] )</h3>
<ul>
<li><strong>callback</strong> <code>Function</code> <em>optional</em></li>
</ul>
<p>从Dom中删除<code>$el</code>。</p>
<h2 id="生命周期">生命周期</h2>
<h3 id="vm-$mount(_[element|selector]_)">vm.$mount( [element|selector] )</h3>
<ul>
<li><strong>element</strong> <code>HTMLElement</code> | <strong>selector</strong> <code>String</code> <em>optional</em></li>
</ul>
<p>如果Vue实例在初始化的时候没有给<code>el</code>选项，你可以手动调用<code>$mount()</code>指定一个元素给它然后编译。如果没有参数提供，一个空的<code>&lt;div&gt;</code>将会自动被创建。在一个已经增加过的实例上调用<code>$mount</code>将会没效果。这个方法返回实例自己这样你就可以链式调用其他方法了。</p>
<h3 id="vm-$destroy(_[remove]_)">vm.$destroy( [remove] )</h3>
<ul>
<li><strong>remove</strong> <code>Boolean</code> <em>optional</em></li>
</ul>
<p>完全删除VM。清除和其他存在的VS的关系，接触所有指示器的绑定，从DOM中删除<code>$el</code>。所有的<code>$on</code>和<code>$watch</code>监听都会自动被删除。</p>
<h3 id="vm-$compile(_element_)">vm.$compile( element )</h3>
<ul>
<li><strong>element</strong> <code>HTMLElement</code></li>
</ul>
<p>只编译DOM片段（元素或者文档段）。这个方法返回一个<code>decompile</code>函数，这个方法可以卸载这个过程创建的指示器。注意这个卸载方法不删除DOM。这个方法暴露给高级自定义指示器的写法。</p>

    <div class="footer">捕捉了错误或者想给文档做一些贡献？就 <a href="https://github.com/vuejs/vuejs.org" target="_blank">Fork this site on Github</a>!</div>
</div>
            
        </div>

        
            <script src="/js/smooth-scroll.min.js"></script>
            <script src="/js/common.js"></script>
        

    </body>
</html>